<div class="container">
  <div class="row">
    <div class="col-sm">
      <h2>{{titre}}</h2>
    </div>
    <div class="col-sm">
      
    </div>
    <div class="col-sm" style="text-align: right;">
      <button mat-flat-button color="primary" routerLink="/add"> Ajouter Assignment</button>  
    </div>
  </div>
  <mat-divider></mat-divider>
  <div class="row">

    <main class="container">
      <br> 
      <h1>Affichage avec data table</h1>
      <p>
          Nombre total de devoirs: {{totalDocs}}
      </p>
      
      <table mat-table [dataSource]="assignments" class="mat-elevation-z8 demo-table">
          
          <!-- id Column -->
            <ng-container matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef> Id </th>
              <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.id}} </td>
            </ng-container>
        
          <!-- nom Column -->
          <ng-container matColumnDef="nom">
            <th mat-header-cell *matHeaderCellDef> Nom </th>
            <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.nom}} </td>
          </ng-container>
        
          <!-- dateDeRendu Column -->
          <ng-container matColumnDef="dateDeRendu">
            <th mat-header-cell *matHeaderCellDef> Date de rendu </th>
            <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.dateDeRendu}} </td>
          </ng-container>
        
          <!-- rendu Column -->
          <ng-container matColumnDef="rendu">
            <th mat-header-cell *matHeaderCellDef> Rendu </th>
            <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.rendu}} </td>
          </ng-container>

          <ng-container matColumnDef="matiere">
            <th mat-header-cell *matHeaderCellDef> Matiere </th>
            <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.matiere[0]?.name}} <img src="{{element.matiere[0]?.matierePicture}}" alt="" class="circular-image"> </td>
          </ng-container>

          <ng-container matColumnDef="auteur">
            <th mat-header-cell *matHeaderCellDef> Auteur </th>
            <td mat-cell *matCellDef="let element" routerLink="/assignments/{{element._id}}"> {{element.auteur[0]?.name}} <img [src]="element.auteur[0]?.picture" alt="" class="circular-image"> </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                       showFirstLastButtons
                       aria-label="Selection de la page des assigments"
                       (page)="handlePage($event)"
                       class="demo-paginator"
                       [length]="totalDocs"
                       [pageSize]="limit"
                       [pageIndex]="page-1"
        >
      </mat-paginator>
      
        <!--
      <h1>Affichage avec mat-list / mat-list-item</h1>
          <mat-list *ngFor="let a of assignments">
              <a routerLink="/assignments/{{a.id}}">
                  <h3 mat-subheader>Date limite: {{a.dateDeRendu | date: 'dd/MM/yy'}}</h3>
                  <mat-list-item>
                      <p appRendu *ngIf="a.rendu; else nonsoumis">
                          {{a.nom}} id = {{a._id}}
                      </p>
                      <ng-template #nonsoumis>
                          {{a.nom}} NON RENDU id = {{a._id}}
                      </ng-template>
                  </mat-list-item>
                  <mat-divider></mat-divider>
              </a>
          </mat-list>
          
      
          <h1>Exemple de scrolling virtuel infini</h1>
          <cdk-virtual-scroll-viewport itemSize="50" class="example-viewport" #scroller>
          <mat-list *cdkVirtualFor="let a of assignments">
              <a routerLink="/assignments/{{a.id}}">
                  <h3 mat-subheader>Date limite: {{a.dateDeRendu | date: 'dd/MM/yy'}}</h3>
                  <mat-list-item>
                      <p appRendu *ngIf="a.rendu; else nonsoumis">
                          {{a.nom}} id = {{a._id}}
                      </p>
                      <ng-template #nonsoumis>
                          {{a.nom}} NON RENDU id = {{a._id}}
                      </ng-template>
                  </mat-list-item>
                  <mat-divider></mat-divider>
              </a>
          </mat-list>
      </cdk-virtual-scroll-viewport>
      -->
      <br>
      </main>
  </div>
</div>

       
          


